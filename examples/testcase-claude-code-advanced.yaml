# Example: Advanced Claude Code Test Case
#
# Demonstrates advanced Claude Code agent configuration including:
# - Custom model selection
# - Agent name (custom subagent)
# - Prompt file usage
# - Advanced CLI options
#
# Note: Some options require specific Claude Code CLI versions

name: "Advanced Claude Code Evaluation"
description: "Comprehensive evaluation with custom model, agent, and advanced options"

# Repository configuration
repo: "https://github.com/youbencha/hello-world.git"
branch: "main"

# Agent configuration with all available options
agent:
  type: claude-code
  # Optional: Specify a custom Claude Code agent/subagent
  agent_name: code-reviewer
  # Optional: Override the default model
  model: claude-sonnet-4-5-20250929
  config:
    prompt: "Add a comment to README explaining what this repository is about"
    
    # Optional: Override the default system prompt entirely
    # system_prompt: "You are an expert code reviewer specialized in security and performance."
    
    # Optional: Append additional system instructions (preferred over system_prompt)
    append_system_prompt: |
      Focus on code quality, security vulnerabilities, and performance issues.
      Provide actionable recommendations for each finding.

# Evaluators to run
evaluators:
  - name: git-diff
    config:
      # Track specific metrics
      include_entropy: true
  
  - name: agentic-judge
    config:
      type: claude-code
      agent_name: agentic-judge  # Uses the built-in evaluation agent
      # Define explicit pass/fail assertions (keys become metric names in the report)
      assertions:
        readme_was_modified: "The README.md file was modified. Score 1 if true, 0 if false."
        message_is_friendly: "A friendly welcome message was added. Score 1 if friendly, 0.5 if neutral, 0 if absent or unfriendly."
        no_errors: "No syntax errors or broken markdown. Score 1 if valid, 0 if broken."

# Timeout in milliseconds (10 minutes for complex evaluations)
timeout: 600000
